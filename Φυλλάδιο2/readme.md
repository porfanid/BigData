# Συνοπτικές λύσεις για κάθε ερώτημα

## Άσκηση 1: Κατασκευή μίας κατανομής εισόδου

Έχω υλοποιήσει μια γεννήτρια εντολών σε Python που παράγει 10.000.000 εντολές της μορφής (i,c), όπως περιγράφεται στο φυλλάδιο. Η γεννήτρια λειτουργεί με βάση τις τέσσερις φάσεις (Ο, Α, Β, Γ) και παρακολουθεί την κατάσταση του διανύσματος καθώς παράγει τις εντολές.

Η γεννήτρια ξεκινά από τη φάση Ο (επιλογή ειδικής συντεταγμένης s), συνεχίζει στη φάση Α (κανονική εξέλιξη) που περιέχει τις υποφάσεις Α1, Α2, Α3, και με συγκεκριμένες πιθανότητες μεταβαίνει στις φάσεις Β (επιστροφή στο 0) ή Γ (ξαφνική έκρηξη).

## Άσκηση 2: Υλοποίηση του μηχανισμού ανάκτησης 1-αραιού διανύσματος (συνέχεια)

Υλοποίησα τον μηχανισμό ανάκτησης 1-αραιού διανύσματος, ο οποίος χρησιμοποιεί τις παραμέτρους:
- n = 10.000 (μέγεθος διανύσματος)
- p = 20.011 (πρώτος αριθμός)
- T = 1 έως 10 (αριθμός τυχαίων τιμών r_i)

Ο μηχανισμός διατηρεί τα διανύσματα a και b, τα οποία ενημερώνονται με κάθε εντολή (i,c) που λαμβάνει. Συγκεκριμένα:
- Για κάθε t από 1 έως T:
  - a[t] = (a[t] + c * r[t]^i mod p) mod p
  - b[t] = (b[t] + c) mod p

Ο μηχανισμός μπορεί να ελέγξει αν το διάνυσμα είναι 1-αραιό εξετάζοντας αν υπάρχει κάποιο j τέτοιο ώστε για κάθε t, a[t]/b[t] = r[t]^j mod p.

Η προσομοίωση τρέχει για τιμές του T από 1 έως 10 και καταγράφει τον αριθμό των false-positives που συμβαίνουν κατά τη διάρκεια της ροής των 10.000.000 εντολών.

### Υπολογισμός της αναγκαίας τιμής του T

Με βάση τη θεωρητική ανάλυση, για να έχουμε πιθανότητα τουλάχιστον 99% να μην υπάρξει ούτε ένα σφάλμα κατά τη διάρκεια της ροής των 10.000.000 εντολών, πρέπει:

1. Η πιθανότητα false-positive για μία δοκιμή είναι το πολύ (n/(p-1))^T
2. Για 10.000.000 δοκιμές, η πιθανότητα να μην έχουμε κανένα σφάλμα είναι (1-(n/(p-1))^T)^10.000.000
3. Θέλουμε αυτή η πιθανότητα να είναι τουλάχιστον 0,99

Με τα δεδομένα μας (n=10.000, p=20.011):
- n/(p-1) = 10.000/20.010 ≈ 0,5
- Λύνοντας την εξίσωση (1-0,5^T)^10.000.000 ≥ 0,99
- Προκύπτει T ≥ 30

Επομένως, θεωρητικά χρειαζόμαστε τουλάχιστον T = 30 για να έχουμε πιθανότητα 99% να μην υπάρξει κανένα σφάλμα.

### Εξήγηση για την απαισιοδοξία της θεωρητικής ανάλυσης

Στην πράξη, παρατηρούμε ότι ακόμα και για μικρές τιμές του T (π.χ. T=2), δεν υπάρχουν καθόλου σφάλματα. Αυτό συμβαίνει για τους εξής λόγους:

1. **Η θεωρητική ανάλυση εξετάζει το χειρότερο σενάριο**: Αναλύει την περίπτωση όπου κάθε επεξεργασία μπορεί να οδηγήσει σε false-positive με τη μέγιστη πιθανότητα, κάτι που σπάνια συμβαίνει στην πράξη.

2. **Η γεννήτρια εντολών δημιουργεί μη-τυχαία μοτίβα**: Η γεννήτρια έχει σχεδιαστεί ώστε το διάνυσμα να είναι συχνά 1-αραιό, λόγω των φάσεων επιστροφής στο 0 και της ύπαρξης της ειδικής συντεταγμένης s.

3. **Συσχέτιση μεταξύ των συντεταγμένων**: Στη γεννήτρια υπάρχει συσχέτιση μεταξύ των συντεταγμένων του διανύσματος, με αποτέλεσμα το διάνυσμα να μην είναι τυχαίο και να έχει καλύτερη συμπεριφορά από το χειρότερο σενάριο.

4. **Το άνω φράγμα είναι χαλαρό**: Το άνω φράγμα n/(p-1) για την πιθανότητα false-positive είναι αρκετά χαλαρό και στην πραγματικότητα η πιθανότητα είναι πολύ μικρότερη.

5. **Η δομή της γεννήτριας**: Η γεννήτρια έχει σχεδιαστεί ώστε το διάνυσμα να είναι "σχεδόν τυχαίο", αλλά "σχετικά συχνά" να έχει ακριβώς μία μη-μηδενική συντεταγμένη, γεγονός που κάνει πιο εύκολη την αναγνώριση της 1-αραιότητας.

Συνεπώς, η θεωρητική ανάλυση μας δίνει ένα άνω φράγμα για τη χειρότερη περίπτωση, αλλά στην πράξη, η συγκεκριμένη κατανομή εισόδου που δημιουργούμε έχει πολύ καλύτερη συμπεριφορά.

Ο κώδικας που παρέχεται μπορεί να εκτελεστεί για να επαληθεύσει ότι για μικρές τιμές του T (π.χ. T=2), δεν υπάρχουν σφάλματα κατά την επεξεργασία των 10.000.000 εντολών.